<!-- Wappler include head-page="layouts/main" fontawesome_5="cdn" bootstrap5="local" is="dmx-app" id="criarconta" appConnect="local" components="{dmxValidator:{}}" -->
<div class="container-fluid">
    <div class="row">
        <div class="col-5 bg-gradient-horizontal"></div>
        <div class="col">
            <div class="row align-items-center justify-content-center">

                <div class="col-8">
                    <form id="criar_conta_form">

                        <div class="d-flex flex-column justify-content-start">
                            <h3>Endereço da empresa</h3>
                            <p>Informe o endereço completo da empresa</p>
                        </div>

                        <div class="row">
                            <div class="col">
                                <div class="form-group mb-3"> <label for="razao_social" class="form-label">Razão Social</label>
                                    <input type="text" class="form-control" id="razao_social" name="razao_social" aria-describedby="razao_social_help" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group mb-3"> <label for="nome_fantasia" class="form-label">Nome Fantasia</label>
                                    <input type="text" class="form-control" id="nome_fantasia" name="nome_fantasia" aria-describedby="nome_fantasia_help" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <div class="form-group mb-3"> <label for="cnpj" class="form-label">CNPJ</label>
                                    <input type="text" class="form-control" id="cnpj" name="cnpj" aria-describedby="cnpj_help" placeholder="00.000.000/0000-00" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group mb-3"> <label for="whatsapp" class="form-label">Whatsapp</label>
                                    <input type="text" class="form-control" id="whatsapp" name="whatsapp" aria-describedby="whatsapp_help" placeholder="(00) 00000-0000" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                        </div>
                        <div class="d-flex flex-column justify-content-start">
                            <h3>Dados da empresa</h3>
                            <p>Informe os dados básicos da sua empresa</p>
                        </div>

                        <div class="form-group mb-3"> <label for="endereco_completo" class="form-label">Endereço completo</label>
                            <input type="text" class="form-control" id="endereco_completo" name="endereco_completo" aria-describedby="endereco_completo_help" required="" data-msg-required="Este é um campo obrigatório!">
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="form-group mb-3"> <label for="cep" class="form-label">CEP</label>
                                    <input type="text" class="form-control" id="cep" name="cep" aria-describedby="cep_help" placeholder="00000-000" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group mb-3"> <label for="bairro" class="form-label">Bairro</label>
                                    <input type="text" class="form-control" id="bairro" name="bairro" aria-describedby="bairro_help" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group mb-3"> <label for="cidade" class="form-label">Cidade</label>
                                    <input type="text" class="form-control" id="cidade" name="cidade" aria-describedby="cidade_help" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group mb-3"> <label for="estado" class="form-label">Estado</label>
                                    <select id="estado" class="form-select" name="estado" required="" data-msg-required="Este é um campo obrigatório!">
                                        <option value="" selected disabled>Selecione um estado</option>
                                        <option value="AC">Acre</option>
                                        <option value="AL">Alagoas</option>
                                        <option value="AP">Amapá</option>
                                        <option value="AM">Amazonas</option>
                                        <option value="BA">Bahia</option>
                                        <option value="CE">Ceará</option>
                                        <option value="DF">Distrito Federal</option>
                                        <option value="ES">Espírito Santo</option>
                                        <option value="GO">Goiás</option>
                                        <option value="MA">Maranhão</option>
                                        <option value="MT">Mato Grosso</option>
                                        <option value="MS">Mato Grosso do Sul</option>
                                        <option value="MG">Minas Gerais</option>
                                        <option value="PA">Pará</option>
                                        <option value="PB">Paraíba</option>
                                        <option value="PR">Paraná</option>
                                        <option value="PE">Pernambuco</option>
                                        <option value="PI">Piauí</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="RN">Rio Grande do Norte</option>
                                        <option value="RS">Rio Grande do Sul</option>
                                        <option value="RO">Rondônia</option>
                                        <option value="RR">Roraima</option>
                                        <option value="SC">Santa Catarina</option>
                                        <option value="SP">São Paulo</option>
                                        <option value="SE">Sergipe</option>
                                        <option value="TO">Tocantins</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex flex-column justify-content-start">
                            <h3>Dados do Usuário</h3>
                            <p>Crie suas credenciais de acesso</p>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="form-group mb-3"> <label for="nome_completo" class="form-label">Nome completo</label>
                                    <input type="text" class="form-control" id="nome_completo" name="nome_completo" aria-describedby="nome_completo_help" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group mb-3"> <label for="email" class="form-label">E-mail</label>
                                    <input type="email" class="form-control" id="email" name="email" aria-describedby="email_help" required="" data-msg-required="Este é um campo obrigatório!" data-rule-email="" data-msg-email="Insira um e-mail válido!">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="form-group mb-3"> <label for="senha" class="form-label">Senha</label>
                                    <input type="password" class="form-control" id="senha" name="senha" aria-describedby="senha_help" required="" data-msg-required="Este é um campo obrigatório!">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group mb-3"> <label for="confirmar_senha" class="form-label">Confirmar senha</label>
                                    <input type="password" class="form-control" id="confirmar_senha" name="confirmar_senha" aria-describedby="confirmar_senha_help" required="" data-msg-required="Este é um campo obrigatório!" data-rule-equalto="senha" data-msg-equalto="As senhas precisam ser idênticas!">
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3"> <button id="btn1" class="btn btn-dark w-100" type="submit">Criar minha conta</button>
                        </div>

                    </form>
                </div>
            </div>

        </div>
    </div>
</div>

<meta name="ac:route" content="/front/d/criar-conta">

<script>
    // Função para remover caracteres não numéricos
function removeNonNumeric(str) {
    return str.replace(/\D/g, '');
}

// Máscara CNPJ: 00.000.000/0000-00
function maskCNPJ(value) {
    const cleaned = removeNonNumeric(value);
    const match = cleaned.match(/^(\d{0,2})(\d{0,3})(\d{0,3})(\d{0,4})(\d{0,2})$/);
    
    if (!match) return value;
    
    let formatted = '';
    if (match[1]) formatted += match[1];
    if (match[2]) formatted += '.' + match[2];
    if (match[3]) formatted += '.' + match[3];
    if (match[4]) formatted += '/' + match[4];
    if (match[5]) formatted += '-' + match[5];
    
    return formatted;
}

// Máscara WhatsApp: (00) 00000-0000
function maskWhatsApp(value) {
    const cleaned = removeNonNumeric(value);
    const match = cleaned.match(/^(\d{0,2})(\d{0,5})(\d{0,4})$/);
    
    if (!match) return value;
    
    let formatted = '';
    if (match[1]) formatted += '(' + match[1];
    if (match[2]) formatted += ') ' + match[2];
    if (match[3]) formatted += '-' + match[3];
    
    return formatted;
}

// Máscara CEP: 00000-000
function maskCEP(value) {
    const cleaned = removeNonNumeric(value);
    const match = cleaned.match(/^(\d{0,5})(\d{0,3})$/);
    
    if (!match) return value;
    
    let formatted = '';
    if (match[1]) formatted += match[1];
    if (match[2]) formatted += '-' + match[2];
    
    return formatted;
}

// Aplicar máscaras aos inputs
document.addEventListener('DOMContentLoaded', function() {
    const cnpjInput = document.getElementById('cnpj');
    const whatsappInput = document.getElementById('whatsapp');
    const cepInput = document.getElementById('cep');
    
    // CNPJ
    if (cnpjInput) {
        cnpjInput.addEventListener('input', function(e) {
            this.value = maskCNPJ(this.value);
        });
    }
    
    // WhatsApp
    if (whatsappInput) {
        whatsappInput.addEventListener('input', function(e) {
            this.value = maskWhatsApp(this.value);
        });
    }
    
    // CEP
    if (cepInput) {
        cepInput.addEventListener('input', function(e) {
            this.value = maskCEP(this.value);
        });
    }
});
</script>